{% load staticfiles %}
<!doctype html>
<html lang="en">
  <head>
    <title>Home</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.pannellum.org/2.4/pannellum.css"/>
    <script type="text/javascript" src="https://cdn.pannellum.org/2.4/pannellum.js"></script>
    <style>
    #panorama {
        width: 600px;
        height: 400px;
    }
    #map {
        height: 400px;
        width: 600px;

      }
    </style>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Oxygen:400,700" rel="stylesheet">

    <link rel="stylesheet" href="{%static 'home/css/animate.css'%}">
    <link rel="stylesheet" href="{%static 'home/css/owl.carousel.min.css'%}">
    <link rel="stylesheet" href="{%static 'home/css/jquery.fancybox.min.css'%}">

    <link rel="stylesheet" href="{%static 'home/fonts/ionicons/css/ionicons.min.css'%}">
    <link rel="stylesheet" href="{%static 'home/fonts/fontawesome/css/font-awesome.min.css'%}">
    <link rel="stylesheet" href="{%static 'home/fonts/flaticon/font/flaticon.css'%}">

    <!-- Theme Style -->
    <link rel="stylesheet" href="{%static 'home/css/style.css'%}">

  </head>
  <body>
    
    <header role="banner">
      <nav class="navbar navbar-expand-lg  bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand " href="{% url 'home'%}">Home-lunteer</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample05" aria-controls="navbarsExample05" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarsExample05">
            <ul class="navbar-nav pl-md-5 mr-auto">
              <li class="nav-item">
                <a class="nav-link active" href="{% url 'home'%}">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'about'%}">About</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="{% url 'volunteer'%}">Volunteer</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'gallery'%}">Gallery</a>
              </li>
              {% if user.is_authenticated %}
              <li class="nav-item">
                <a class="nav-link" href="{% url 'logout'%}">Logout</a>
                <form id="logout" method="POST" action="">
                    {% csrf_token %} <input type="hidden" />
                </form>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'coaches'%}">Mypage</a>
              </li>
              {% else %}
              <li class="nav-item">
                <a class="nav-link" href="{% url 'login'%}">Login</a>
              </li>
              {% endif %}
            </ul>

            <div class="navbar-nav ml-auto">
              <form method="post" class="search-form">
                <span class="icon ion ion-search"></span>
                <input type="text" class="form-control" placeholder="Search...">
              </form>
            </div>
            
          </div>
        </div>
      </nav>
    </header>
    <!-- <div class="top-shadow"></div> -->
    


    <div style="background-image: url('/static/home/images/main_logo.jpeg');  background-size: cover;
    background-repeat: no-repeat;
    background-position: top center;height: calc(100vh);
  min-height: 700px;
  position: relative;">
      <div class="container">
        <div class="row slider-text align-items-center justify-content-center">
          <div class="col-lg-9 text-center col-sm-12 element-animate">
            <h1 class="mb-4"></h1>
            <div class="btn-play-wrap mx-auto">
            </div>    
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <div class="container">
        <div class="row">
          <div class="col-md-6 mb-4 mb-lg-0 col-lg-3">
            <div class="service-box">
              <div class="square-figure">
                <button class="btn" id="btn" type="submit"><span class="flaticon-pulse"></span></button>
              </div>
              <div class="service-text">
                <h3>봉사접수</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia molestias id voluptatum unde sequi soluta illo amet.</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-4 mb-lg-0 col-lg-3">
            <div class="service-box">
              <div class="square-figure">
                <button class="btn" id="btn" type="submit"><span class="flaticon-pulse"></span></button>
              </div>
              <div class="service-text">
                <h3>봉사신청</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia molestias id voluptatum unde sequi soluta illo
                  amet.</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-4 mb-lg-0 col-lg-3">
            <div class="service-box">
              <div class="square-figure">
                <button class="btn" id="btn" type="submit"><span class="flaticon-pulse"></span></button>
              </div>
              <div class="service-text">
                <h3>봉사자 검색</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia molestias id voluptatum unde sequi soluta illo
                  amet.</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-4 mb-lg-0 col-lg-3">
            <div class="service-box">
              <div class="square-figure">
                <button class="btn" id="btn" type="submit"><span class="flaticon-pulse"></span></button>
              </div>
              <div class="service-text">
                <h3>봉사후기</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia molestias id voluptatum unde sequi soluta illo
                  amet.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="section bg-primary">
        <div class="container">
          <div class="row">
            <div class="col-md-6 col-lg-4 element-animate ">
              <div class="media block-6 d-block text-center">
                <div class="media-body">
                  <h3 class="heading text-white">공지사항</h3><br>
                  {% for y in homelist.all %}
                  <div class="container">
                    {% if y.notice == True %}
                  <li class="text-white">{{y.address}}</li>
                  {%else%}
                  {%endif%}
                </div>
                {%endfor%}
                </div>
              </div>
      
            </div>
            <div class="col-md-6 col-lg-4 element-animate ">
              <div class="media block-6 d-block text-center">
                </div>
      
            </div>
            <div class="col-md-6 col-lg-3 element-animate ">
              <div class="media block-6 d-block text-center">               
                <div class="media-body">
                    <h3 class="heading text-white">모집중인 봉사활동</h3><br>
                    {% for x in homelist.all %}
                    <div class="container">
                      {% if x.status == True %}
                    <li class="text-white">{{x.address}}</li>
                    {%else%}
                    {%endif%}
                  </div>
                  {%endfor%}
                </div>
              </div>
      
            </div>
          </div>
        </div>
      </div>
      <br><br>
    <div class="site-section position-relative">
      <div class="container">
          <div class="row align-items-center">
      <div id="panorama"></div>
            <script>
            pannellum.viewer('panorama', {
                "type": "equirectangular",
                "panorama": "/static/sample.jpg"
            });
            </script>
        
          <div class="col-lg-5 ml-auto">
            <div class="padding-tb">
            <h2 class="heading mb-4">VR Service</h2>
            <p>수혜자가 자신의 집의 수리를 받아야 하는 부분을 찍어 홈페이지에 올리면 vr로 바로 구현이 됩니다. 보여지는 vr 화면을 통해서 봉사자가 봉사를 갈 장소의 상황판단을 신속히 할 수  있어 시간과 교통 비용이 절약이 됩니다.</p>
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <br><br>
    
    <!-- END section -->


    <div class="site-section position-relative">
      <div style="background-image: url('images/hero_2.jpg');" class="img-2"></div>
        <div class="container">
          <div class="row align-items-center">
            <div class="col-lg-5 mr-auto">
              <div class="padding-tb">
            <h2 class="heading mb-4">location-based Recommendation System</h2>
            <p>봉사자가 자신의 위치를 설정하면 그 위치를 기준으로 현재 모집중인 봉사가 무엇인지 알 수 있습니다. 또한 자신의 위치에서 거리가 가장 가까운 봉사를 우선적으로 추천해주기 때문에 봉사지역까지 가는데에 소비되는 시간과 비용을 절약할 수 있습니다.
            </p>
            
              </div>
              
            </div>
            <div id="map"></div>
              <script>
                var map;

                /**
                * The CenterControl adds a control to the map that recenters the map on
                * Chicago.
                * This constructor takes the control DIV as an argument.
                * @constructor
                */
                function CenterControl(controlDiv, map) {

                  // Set CSS for the control border.
                  var controlUI = document.createElement('div');
                  controlUI.style.backgroundColor = '#fff';
                  controlUI.style.border = '2px solid #fff';
                  controlUI.style.borderRadius = '3px';
                  controlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';
                  controlUI.style.cursor = 'pointer';
                  controlUI.style.marginBottom = '22px';
                  controlUI.style.textAlign = 'center';
                  controlUI.title = 'Click to recenter the map';
                  controlDiv.appendChild(controlUI);

                  // Set CSS for the control interior.
                  var controlText = document.createElement('div');
                  controlText.style.color = 'rgb(25,25,25)';
                  controlText.style.fontFamily = 'Roboto,Arial,sans-serif';
                  controlText.style.fontSize = '16px';
                  controlText.style.lineHeight = '38px';
                  controlText.style.paddingLeft = '5px';
                  controlText.style.paddingRight = '5px';
                  controlText.innerHTML = 'Customer Search';
                  controlUI.appendChild(controlText);

                  controlUI.addEventListener('click', function() {

                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                          setMarker(JSON.parse(this.responseText));
                        }
                    };
                    xhttp.open("GET", "api/customer/?format=json", true);
                    xhttp.setRequestHeader("Content-type", "application/json");
                    xhttp.send();

                  });

                }

                function initMap() {
                  map = new google.maps.Map(document.getElementById('map'), {
                    center: {lat: 37, lng: 126},
                    zoom: 8
                  });

                  var centerControlDiv = document.createElement('div');
                  var centerControl = new CenterControl(centerControlDiv, map);

                  centerControlDiv.index = 1;
                  map.controls[google.maps.ControlPosition.TOP_CENTER].push(centerControlDiv);

                }

                function setMarker(customerJson) {

                  for(var i = 0; i < customerJson.length; i++){

                    var infowindow = new google.maps.InfoWindow({
                      content: customerJson[i].name + ' ' + customerJson[i].address
                    });

                    var marker = new google.maps.Marker({
                      position: {lat: Number(customerJson[i].lat), lng: Number(customerJson[i].lng)},
                      map: map
                    });

                    marker.addListener('click', function() {
                      infowindow.open(map, marker);
                    });
                  }
                }
              </script>
              <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBN-0S2lRs4Gn93zi2ZtMHMnCm8n6qUOeU&callback=initMap"
              async defer></script>
          </div>
        </div>
      </div>
    </div>

    
    
    <footer class="site-footer" role="contentinfo">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-4 mb-5">
            <h3>About Vigor</h3>
            <p class="mb-5">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Alias nihil numquam aspernatur inventore sint eligendi nostrum!</p>
            <ul class="list-unstyled footer-link d-flex footer-social">
              <li><a href="#" class="p-2"><span class="fa fa-twitter"></span></a></li>
              <li><a href="#" class="p-2"><span class="fa fa-facebook"></span></a></li>
              <li><a href="#" class="p-2"><span class="fa fa-linkedin"></span></a></li>
              <li><a href="#" class="p-2"><span class="fa fa-instagram"></span></a></li>
            </ul>

          </div>
          <div class="col-md-5 mb-5 pl-md-5">
            <div class="mb-5">
              <h3>Contact Info</h3>
              <ul class="list-unstyled footer-link">
                <li class="d-block">
                  <span class="d-block">Address:</span>
                  <span>34 Street Name, City Name Here, United States</span></li>
                <li class="d-block"><span class="d-block">Telephone:</span><span>+1 242 4942 290</span></li>
                <li class="d-block"><span class="d-block">Email:</span><span>info@yourdomain.com</span></li>
              </ul>
            </div>
          
            <div class="mb-4">
              <h3>Subscribe</h3>
              <form action="#" method="post" class="site-block-subscribe">
                <div class="input-group mb-3">
                  <input type="text" class="form-control border-secondary bg-transparent" placeholder="Enter your email"
                    aria-label="Enter Email" aria-describedby="button-addon2">
                  <div class="input-group-append">
                    <button class="btn btn-warning" type="button" id="button-addon2">Subscribe</button>
                  </div>
                </div>
              </form>
          
            </div>
          </div>
          <div class="col-md-3 mb-5">
            <h3>Quick Links</h3>
            <ul class="list-unstyled footer-link">
              <li><a href="#">About</a></li>
              <li><a href="#">Terms of Use</a></li>
              <li><a href="#">Disclaimers</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </div>
          <div class="col-md-3">
          
          </div>
        </div>
        <div class="row">
          <div class="col-12 text-md-center text-left">
            <p>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
              Copyright &copy;
              <script>document.write(new Date().getFullYear());</script> All Rights Reserved | This template is made with <i
                class="fa fa-heart text-danger" aria-hidden="true"></i> by <a href="https://colorlib.com"
                target="_blank">Colorlib</a>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
          </div>
        </div>
      </div>
    </footer>
    <!-- END footer -->
    <!-- loader -->
    <div id="loader" class="show fullscreen"><svg class="circular" width="48px" height="48px">
      <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
      <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
        stroke="#f4b214" /></svg></div>
    <script src="{%static 'home/js/jquery-3.2.1.min.js'%}"></script>
    <script src="{%static 'home/js/popper.min.js'%}"></script>
    <script src="{%static 'home/js/bootstrap.min.js'%}"></script>
    <script src="{%static 'home/js/owl.carousel.min.js'%}"></script>
    <script src="{%static 'home/js/jquery.waypoints.min.js'%}"></script>
    <script src="{%static 'home/js/jquery.fancybox.min.js'%}"></script>
    <script src="{%static 'home/js/main.js'%}"></script>
  </body>
</html>